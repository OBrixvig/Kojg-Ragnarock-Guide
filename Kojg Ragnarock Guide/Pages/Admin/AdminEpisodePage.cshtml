@page
@using System.Runtime.InteropServices
@using Microsoft.EntityFrameworkCore.Infrastructure.Internal
@model AdminEpisodePage
@{
}
<div class="OpretExhibition">
    <a class='btn btn-success' href="/Admin/CreateExhibition">Opret nyt</a>
</div>
<form method="get" class="adminSearch">
    <div class="input-group mb-3">
        <button class="btn btn-outline-secondary" type="submit">Søg</button>
        <select class="form-select" id="inputGroupSelect03" aria-label="Example select with button addon" input type="text" asp-for="FilterCriteria">
            <option value="" selected>Vælg Etage...</option>
            <option value="">Reset</option>
            <option value="2">Etage 2</option>
            <option value="3">Etage 3</option>
        </select>
    </div>
</form>
<div class="udstilling-grid">
    <div class="EtageNummer">
        <h1>Admin Page</h1>
    </div>

    <div class="udstilling">
        <ul class="list-group list-group-flush">
            @foreach (var exhibition in Model.Exhibitions)
            {
                <div class="Episode">

                    <article class="EpisodeIdTitle">
                        @if (@exhibition.ExhibitionNumber <= 0)
                        {
                            <div class="alert alert-danger" role="alert">
                                <p class="EpisodeId">@exhibition.ExhibitionNumber - MANGLER Exhibition Nummer</p>
                            </div>
                        }
                        else
                        {
                            <p class="EpisodeId">@exhibition.ExhibitionNumber-</p>
                        }
                        <p class="EpisodeTitle">@exhibition.Title</p>
                        @if (@exhibition.Floor == "2")
                        {
                            <p class="EpisodeTitle" style="color: paleturquoise">Etage nummer: @exhibition.Floor</p>
                        }
                        else
                        {
                            <p class="EpisodeTitle" style="color: orchid">Etage nummer: @exhibition.Floor</p>
                        }
                    </article>
                    <hr class="EpisodeTop-Line">
                    <img class="EpisodePicture" src="/exhibitionPhotos/@exhibition.PhotoFileName" width="50" alt="Du har ikke tilføjet et billede" />
                    <p class="EpisodeDescription">@exhibition.Description</p>
                    <td style="white-space: nowrap">
                        <a class="btn btn-info btn-sm" href="/Admin/EditExhibition?id=@exhibition.Id">Opdater</a>

                        <!-- Button trigger modal -->
                        <button type="button" class="btn btn-warning btn-sm" data-bs-toggle="modal" data-bs-target="#sletModal">Slet</button>

                        <!-- Modal -->
                        <div class="modal fade" id="sletModal" tabindex="-1" aria-labelledby="sletModalLabel" aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h1 class="modal-title fs-5" id="sletModalLabel" style="color:black;">Er du sikker på du vil slette denne Exhibition?</h1>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-primary btn-sm" data-bs-dismiss="modal">Fortryd</button>
                                        <a class="btn btn-warning btn-sm" href="/Admin/DeleteExhibition?id=@exhibition.Id">Slet</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </td>
                    <button type="button" class="btn btn-danger btn-sm PlayButton" onclick="playAudio(this, '@exhibition.Id')">Play</button>
                    <audio id="@exhibition.Id" style="display: none;">
                        <source id="source-@exhibition.Id" src="/exhibitionAudios/@exhibition.AudioFileName" type="audio/mpeg">
                    </audio>
                </div>

            }
        </ul>
    </div>
    <div class="planedTegning">
        <td>
            <img src="/Plantegninger/Etage2.jpg" height="672" width="474" alt="Du har ikke tilføjet et billed" />
            <img src="/Plantegninger/Etage3.jpg" height="672" width="474" alt="Du har ikke tilføjet et billed" />
        </td>
    </div>

</div>
<div class="audioStuff hide">
    <div class="bottom-player-pic">
        <img class="BottomPlayerImage" id="bottom-player-image" width="57" height="73" src="" alt="">
    </div>
    <div class="bottom-player-texty">

        <p class="BottomPlayerText" id="bottom-player-title">

        </p>
    </div>
    <audio controls class="bottom-audio">
        <source id="bottom-audio-source" src="" type="audio/mpeg">
    </audio>
</div>



